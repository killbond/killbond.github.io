{"version":3,"sources":["webpack:///src/app/pages/login/login-routing.module.ts","webpack:///src/app/pages/login/login.component.ts","webpack:///src/app/pages/login/login.component.html","webpack:///src/app/pages/login/login.module.ts"],"names":["routes","path","component","LoginRoutingModule","forChild","imports","exports","LoginComponent","auth","location","router","faSpinner","sending","errors","isAuthenticated","navigate","login","email","password","pipe","errorHandling","bind","subscribe","back","response","error","hasOwnProperty","selector","templateUrl","styleUrls","LoginModule","declarations"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAKA,QAAMA,MAAM,GAAW,CAAC;AAACC,UAAI,EAAE,EAAP;AAAWC,eAAS,EAAE;AAAtB,KAAD,CAAvB;;QAMaC,kB;;;;;YAAAA;;;;yBAAAA,kB;AAAkB,O;AAAA,gBAHpB,CAAC,6DAAaC,QAAb,CAAsBJ,MAAtB,CAAD,CAGoB,EAFnB,4DAEmB;;;;0HAAlBG,kB,EAAkB;AAAA;AAAA,kBAFnB,4DAEmB;AAAA,O;AAFP,K;;;;;sEAEXA,kB,EAAkB;cAJ9B,sDAI8B;eAJrB;AACRE,iBAAO,EAAE,CAAC,6DAAaD,QAAb,CAAsBJ,MAAtB,CAAD,CADD;AAERM,iBAAO,EAAE,CAAC,4DAAD;AAFD,S;AAIqB,Q;;;;;;;;;;;;;;;;;;ACX/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACWM;;AACE;;AACF;;;;;;AADE;;AAAA;;;;;;AAWF;;AACE;;AACF;;;;;;AADE;;AAAA;;;;;;AAKA;;;;;;AAAyB,2FAAkB,MAAlB,EAAkB,IAAlB;;;;;;;;;;;;QDdpBC,c;AAYX,8BACUC,IADV,EAEUC,QAFV,EAGUC,MAHV,EAGwB;AAAA;;AAFd,aAAAF,IAAA,GAAAA,IAAA;AACA,aAAAC,QAAA,GAAAA,QAAA;AACA,aAAAC,MAAA,GAAAA,MAAA;AAbV,aAAAC,SAAA,GAAY,+EAAZ;AAMA,aAAAC,OAAA,GAAmB,KAAnB;AAEA,aAAAC,MAAA,GAAiC,EAAjC;AAOC;;;;mCAEO;AACN,cAAI,KAAKL,IAAL,CAAUM,eAAV,EAAJ,EAAiC;AAC/B,iBAAKJ,MAAL,CAAYK,QAAZ,CAAqB,CAAC,OAAD,CAArB;AACD;AACF;;;gCAEI;AAAA;;AACH,eAAKH,OAAL,GAAe,IAAf;AACA,eAAKJ,IAAL,CAAUQ,KAAV,CAAgB,KAAKC,KAArB,EAA4B,KAAKC,QAAjC,EACGC,IADH,CAEI,kEAAW,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAAX,CAFJ,EAGI,gEAAS;AAAA,mBAAM,KAAI,CAACT,OAAL,GAAe,KAArB;AAAA,WAAT,CAHJ,EAIIU,SAJJ,CAIc,YAAM;AAClB,iBAAI,CAACb,QAAL,CAAcc,IAAd;AACD,WAND;AAOD;;;4CAEsC;AAAA,cAATC,QAAS,QAAhBC,KAAgB;;AACrC,cAAID,QAAQ,CAACE,cAAT,CAAwB,QAAxB,CAAJ,EAAuC;AACrC,iBAAKb,MAAL,GAAeW,QAAiC,CAACX,MAAjD;AACD,WAFD,MAEO;AACL,iBAAKA,MAAL,GAAc;AACZK,sBAAQ,EAAE,CAAC,mBAAD;AADE,aAAd;AAGD;;AACD,iBAAO,iDAAP;AACD;;;;;;;uBA7CUX,c,EAAc,mI,EAAA,yH,EAAA,uH;AAAA,K;;;YAAdA,c;AAAc,gC;AAAA,e;AAAA,c;AAAA,smB;AAAA;AAAA;ACf3B;;AACE;;AAAM;AAAA,mBAAY,IAAAS,KAAA,EAAZ;AAAmB,WAAnB;;AACJ;;AAAwB;;AAAM;;AAC9B;;AACE;;AAAO;AAAA;AAAA;;AAAP;;AAOA;;AAGF;;AACA;;AACE;;AAAO;AAAA;AAAA;;AAAP;;AAOA;;AAGF;;AACA;;AACE;;AACE;;AACA;;AACF;;AACF;;AACF;;AACA;;AACE;;AAA4B;;AAAY;;AACxC;;AAAgC;;AAAiB;;AACnD;;AACF;;;;AAjCa;;AAAA;;AADA;;AAOF;;AAAA;;AAME;;AAAA;;AADA;;AAOF;;AAAA;;AAKG;;AAAA;;AACG;;AAAA;;AAMV;;AAAA;;AACA;;AAAA;;;;;;;;;sEDrBMT,c,EAAc;cAL1B,uDAK0B;eALhB;AACToB,kBAAQ,EAAE,WADD;AAETC,qBAAW,EAAE,wBAFJ;AAGTC,mBAAS,EAAE,CAAC,wBAAD;AAHF,S;AAKgB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;AEf3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAoBaC,W;;;;;YAAAA;;;;yBAAAA,W;AAAW,O;AAAA,gBARb,CACP,4DADO,EAEP,wEAFO,EAGP,kFAHO,EAIP,0DAJO,EAKP,2DALO,CAQa;;;;0HAAXA,W,EAAW;AAAA,uBATP,+DASO;AATO,kBAE3B,4DAF2B,EAG3B,wEAH2B,EAI3B,kFAJ2B,EAK3B,0DAL2B,EAM3B,2DAN2B;AASP,O;AAHR,K;;;;;sEAGHA,W,EAAW;cAVvB,sDAUuB;eAVd;AACRC,sBAAY,EAAE,CAAC,+DAAD,CADN;AAER1B,iBAAO,EAAE,CACP,4DADO,EAEP,wEAFO,EAGP,kFAHO,EAIP,0DAJO,EAKP,2DALO;AAFD,S;AAUc,Q","file":"pages-login-login-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { LoginComponent } from './login.component';\n\nconst routes: Routes = [{path: '', component: LoginComponent}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginRoutingModule {\n}\n","import { Component, OnInit } from '@angular/core';\nimport { catchError, finalize } from \"rxjs/operators\";\nimport { ApiResponseInterface } from \"../../interfaces/api-response.interface\";\nimport { Observable, of } from \"rxjs\";\nimport { ValidationBagInterface } from \"../../interfaces/validation-bag.interface\";\nimport { faCircleNotch } from \"@fortawesome/free-solid-svg-icons\";\nimport { AuthService } from \"../../services/auth.service\";\nimport { Router } from \"@angular/router\";\nimport { Location } from \"@angular/common\";\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  faSpinner = faCircleNotch\n\n  email: string\n\n  password: string\n\n  sending: boolean = false\n\n  errors: ValidationBagInterface = {}\n\n  constructor(\n    private auth: AuthService,\n    private location: Location,\n    private router: Router,\n  ) {\n  }\n\n  ngOnInit(): void {\n    if (this.auth.isAuthenticated()) {\n      this.router.navigate(['/menu'])\n    }\n  }\n\n  login(): void {\n    this.sending = true\n    this.auth.login(this.email, this.password)\n      .pipe(\n        catchError(this.errorHandling.bind(this)),\n        finalize(() => this.sending = false),\n      ).subscribe(() => {\n      this.location.back()\n    })\n  }\n\n  private errorHandling({error: response}): Observable<void> {\n    if (response.hasOwnProperty('errors')) {\n      this.errors = (response as ApiResponseInterface).errors\n    } else {\n      this.errors = {\n        password: ['Invalid password.']\n      }\n    }\n    return of()\n  }\n\n}\n","<div class=\"login-form\">\n  <form (ngSubmit)=\"login()\">\n    <h2 class=\"text-center\">Log in</h2>\n    <div class=\"form-group\">\n      <input [(ngModel)]=\"email\"\n             [class.is-invalid]=\"errors.hasOwnProperty('email')\"\n             class=\"form-control\"\n             name=\"email\"\n             placeholder=\"Email\"\n             required\n             type=\"text\">\n      <div *ngFor=\"let message of errors.email\" class=\"invalid-feedback\">\n        {{ message }}\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <input [(ngModel)]=\"password\"\n             [class.is-invalid]=\"errors.hasOwnProperty('password')\"\n             class=\"form-control\"\n             name=\"password\"\n             placeholder=\"Password\"\n             required\n             type=\"password\">\n      <div *ngFor=\"let message of errors.password\" class=\"invalid-feedback\">\n        {{ message }}\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <button [disabled]=\"sending\" class=\"btn btn-primary btn-block\" type=\"submit\">\n        <fa-icon *ngIf=\"sending\" [icon]=\"faSpinner\" [spin]=\"true\"></fa-icon>\n        Log in\n      </button>\n    </div>\n  </form>\n  <div class=\"d-flex justify-content-around\">\n    <a [routerLink]=\"['/menu']\">Back to menu</a>\n    <a [routerLink]=\"['/register']\">Create an Account</a>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\nimport { SharedModule } from \"../../shared.module\";\nimport { FontAwesomeModule } from \"@fortawesome/angular-fontawesome\";\nimport { FormsModule } from \"@angular/forms\";\n\n\n@NgModule({\n  declarations: [LoginComponent],\n  imports: [\n    CommonModule,\n    LoginRoutingModule,\n    FontAwesomeModule,\n    FormsModule,\n    SharedModule,\n  ]\n})\nexport class LoginModule {\n}\n"]}