{"version":3,"sources":["./src/app/pages/history/history-routing.module.ts","./src/app/pages/history/history.component.ts","./src/app/pages/history/history.component.html","./src/app/pages/history/history.module.ts"],"names":[],"mappings":"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","file":"pages-history-history-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { HistoryComponent } from './history.component';\n\nconst routes: Routes = [{path: '', component: HistoryComponent}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HistoryRoutingModule {\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from \"../../services/api.service\";\nimport { OrderResponseInterface } from \"../../interfaces/order-response.interface\";\nimport { AuthService } from \"../../services/auth.service\";\nimport { CurrencyService } from \"../../services/currency.service\";\nimport { CurrencyInterface } from \"../../interfaces/currency.interface\";\n\n@Component({\n  selector: 'app-history',\n  templateUrl: './history.component.html',\n  styleUrls: ['./history.component.scss']\n})\nexport class HistoryComponent implements OnInit {\n\n  orders: OrderResponseInterface[] = []\n\n  constructor(\n    private api: ApiService,\n    private auth: AuthService,\n    public currencyService: CurrencyService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.api.get('users/' + this.auth.user.id + '/orders')\n      .subscribe((orders: OrderResponseInterface[]) => this.orders = orders)\n  }\n\n  getCurrency(order: OrderResponseInterface): CurrencyInterface {\n    return this.currencyService.getCurrencyById(order.currency_id)\n  }\n\n}\n","<app-navbar></app-navbar>\n\n<div class=\"px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center\">\n  <h1 class=\"display-4\">Order history</h1>\n</div>\n\n<ng-template #empty>\n  <div class=\"mx-auto text-center flex-grow-1 flex-shrink-0 d-flex align-items-center mb-5\">\n    <h1 class=\"lead\">Empty</h1>\n  </div>\n</ng-template>\n\n<div *ngIf=\"0 != orders.length else empty\" class=\"container\">\n  <table class=\"table table-hover table-condensed\" id=\"cart\">\n    <thead>\n    <tr>\n      <th>ID</th>\n      <th>Delivery</th>\n      <th class=\"text-md-center\">Date</th>\n      <th>Positions</th>\n      <th class=\"text-md-center\">Currency</th>\n      <th class=\"text-md-center\">Price</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr *ngFor=\"let order of orders; trackBy: ('id' | trackByProperty)\" class=\"small\">\n      <td data-th=\"ID\">\n        {{ order.id }}\n      </td>\n      <td data-th=\"Delivery\">\n        <div *ngIf=\"1 == order.delivery.type_id\">\n          <p class=\"m-0\">Delivery to address:</p>\n          <p class=\"m-0\">{{ order.delivery.coordinates.address }}</p>\n        </div>\n        <p *ngIf=\"2 == order.delivery.type_id\" class=\"m-0\">Takeaway</p>\n      </td>\n      <td class=\"text-md-center\" data-th=\"Date\">\n        {{ order.created_at | datetime }}\n      </td>\n      <td data-th=\"Positions\">\n        <ul class=\"m-0 pl-3\">\n          <li *ngFor=\"let position of order.positions\">\n            {{ position.name }} x {{ position.quantity }}\n          </li>\n        </ul>\n      </td>\n      <td class=\"text-md-center\" data-th=\"Currency\">\n        {{ getCurrency(order).code }}\n      </td>\n      <td class=\"text-md-center\" data-th=\"Price\">\n        <b>{{ order.total | price:getCurrency(order) }}</b>\n      </td>\n    </tr>\n  </table>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HistoryRoutingModule } from './history-routing.module';\nimport { HistoryComponent } from './history.component';\nimport { NavbarModule } from \"../../components/navbar/navbar.module\";\nimport { SharedModule } from \"../../shared.module\";\n\n\n@NgModule({\n  declarations: [HistoryComponent],\n  imports: [\n    CommonModule,\n    NavbarModule,\n    HistoryRoutingModule,\n    SharedModule,\n  ]\n})\nexport class HistoryModule {\n}\n"],"sourceRoot":"webpack:///"}