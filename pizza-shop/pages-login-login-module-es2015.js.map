{"version":3,"sources":["./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.component.ts","./src/app/pages/login/login.component.html","./src/app/pages/login/login.module.ts"],"names":[],"mappings":"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","file":"pages-login-login-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { LoginComponent } from './login.component';\n\nconst routes: Routes = [{path: '', component: LoginComponent}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginRoutingModule {\n}\n","import { Component, OnInit } from '@angular/core';\nimport { catchError, finalize } from \"rxjs/operators\";\nimport { ApiResponseInterface } from \"../../interfaces/api-response.interface\";\nimport { Observable, of } from \"rxjs\";\nimport { ValidationBagInterface } from \"../../interfaces/validation-bag.interface\";\nimport { faCircleNotch } from \"@fortawesome/free-solid-svg-icons\";\nimport { AuthService } from \"../../services/auth.service\";\nimport { Router } from \"@angular/router\";\nimport { Location } from \"@angular/common\";\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  faSpinner = faCircleNotch\n\n  email: string\n\n  password: string\n\n  sending: boolean = false\n\n  errors: ValidationBagInterface = {}\n\n  constructor(\n    private auth: AuthService,\n    private location: Location,\n    private router: Router,\n  ) {\n  }\n\n  ngOnInit(): void {\n    if (this.auth.isAuthenticated()) {\n      this.router.navigate(['/menu'])\n    }\n  }\n\n  login(): void {\n    this.sending = true\n    this.auth.login(this.email, this.password)\n      .pipe(\n        catchError(this.errorHandling.bind(this)),\n        finalize(() => this.sending = false),\n      ).subscribe(() => {\n      this.location.back()\n    })\n  }\n\n  private errorHandling({error: response}): Observable<void> {\n    if (response.hasOwnProperty('errors')) {\n      this.errors = (response as ApiResponseInterface).errors\n    } else {\n      this.errors = {\n        password: ['Invalid password.']\n      }\n    }\n    return of()\n  }\n\n}\n","<div class=\"login-form\">\n  <form (ngSubmit)=\"login()\">\n    <h2 class=\"text-center\">Log in</h2>\n    <div class=\"form-group\">\n      <input [(ngModel)]=\"email\"\n             [class.is-invalid]=\"errors.hasOwnProperty('email')\"\n             class=\"form-control\"\n             name=\"email\"\n             placeholder=\"Email\"\n             required\n             type=\"text\">\n      <div *ngFor=\"let message of errors.email\" class=\"invalid-feedback\">\n        {{ message }}\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <input [(ngModel)]=\"password\"\n             [class.is-invalid]=\"errors.hasOwnProperty('password')\"\n             class=\"form-control\"\n             name=\"password\"\n             placeholder=\"Password\"\n             required\n             type=\"password\">\n      <div *ngFor=\"let message of errors.password\" class=\"invalid-feedback\">\n        {{ message }}\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <button [disabled]=\"sending\" class=\"btn btn-primary btn-block\" type=\"submit\">\n        <fa-icon *ngIf=\"sending\" [icon]=\"faSpinner\" [spin]=\"true\"></fa-icon>\n        Log in\n      </button>\n    </div>\n  </form>\n  <div class=\"d-flex justify-content-around\">\n    <a [routerLink]=\"['/menu']\">Back to menu</a>\n    <a [routerLink]=\"['/register']\">Create an Account</a>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\nimport { SharedModule } from \"../../shared.module\";\nimport { FontAwesomeModule } from \"@fortawesome/angular-fontawesome\";\nimport { FormsModule } from \"@angular/forms\";\n\n\n@NgModule({\n  declarations: [LoginComponent],\n  imports: [\n    CommonModule,\n    LoginRoutingModule,\n    FontAwesomeModule,\n    FormsModule,\n    SharedModule,\n  ]\n})\nexport class LoginModule {\n}\n"],"sourceRoot":"webpack:///"}