{"version":3,"sources":["webpack:///src/app/pages/history/history-routing.module.ts","webpack:///src/app/pages/history/history.component.ts","webpack:///src/app/pages/history/history.component.html","webpack:///src/app/pages/history/history.module.ts"],"names":["routes","path","component","HistoryRoutingModule","forChild","imports","exports","HistoryComponent","api","auth","currencyService","orders","get","user","id","subscribe","order","getCurrencyById","currency_id","selector","templateUrl","styleUrls","HistoryModule","declarations"],"mappings":"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","file":"pages-history-history-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { HistoryComponent } from './history.component';\n\nconst routes: Routes = [{path: '', component: HistoryComponent}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HistoryRoutingModule {\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from \"../../services/api.service\";\nimport { OrderResponseInterface } from \"../../interfaces/order-response.interface\";\nimport { AuthService } from \"../../services/auth.service\";\nimport { CurrencyService } from \"../../services/currency.service\";\nimport { CurrencyInterface } from \"../../interfaces/currency.interface\";\n\n@Component({\n  selector: 'app-history',\n  templateUrl: './history.component.html',\n  styleUrls: ['./history.component.scss']\n})\nexport class HistoryComponent implements OnInit {\n\n  orders: OrderResponseInterface[] = []\n\n  constructor(\n    private api: ApiService,\n    private auth: AuthService,\n    public currencyService: CurrencyService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.api.get('users/' + this.auth.user.id + '/orders')\n      .subscribe((orders: OrderResponseInterface[]) => this.orders = orders)\n  }\n\n  getCurrency(order: OrderResponseInterface): CurrencyInterface {\n    return this.currencyService.getCurrencyById(order.currency_id)\n  }\n\n}\n","<app-navbar></app-navbar>\n\n<div class=\"px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center\">\n  <h1 class=\"display-4\">Order history</h1>\n</div>\n\n<ng-template #empty>\n  <div class=\"mx-auto text-center flex-grow-1 flex-shrink-0 d-flex align-items-center mb-5\">\n    <h1 class=\"lead\">Empty</h1>\n  </div>\n</ng-template>\n\n<div *ngIf=\"0 != orders.length else empty\" class=\"container\">\n  <table class=\"table table-hover table-condensed\" id=\"cart\">\n    <thead>\n    <tr>\n      <th>ID</th>\n      <th>Delivery</th>\n      <th class=\"text-md-center\">Date</th>\n      <th>Positions</th>\n      <th class=\"text-md-center\">Currency</th>\n      <th class=\"text-md-center\">Price</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr *ngFor=\"let order of orders; trackBy: ('id' | trackByProperty)\" class=\"small\">\n      <td data-th=\"ID\">\n        {{ order.id }}\n      </td>\n      <td data-th=\"Delivery\">\n        <div *ngIf=\"1 == order.delivery.type_id\">\n          <p class=\"m-0\">Delivery to address:</p>\n          <p class=\"m-0\">{{ order.delivery.coordinates.address }}</p>\n        </div>\n        <p *ngIf=\"2 == order.delivery.type_id\" class=\"m-0\">Takeaway</p>\n      </td>\n      <td class=\"text-md-center\" data-th=\"Date\">\n        {{ order.created_at | datetime }}\n      </td>\n      <td data-th=\"Positions\">\n        <ul class=\"m-0 pl-3\">\n          <li *ngFor=\"let position of order.positions\">\n            {{ position.name }} x {{ position.quantity }}\n          </li>\n        </ul>\n      </td>\n      <td class=\"text-md-center\" data-th=\"Currency\">\n        {{ getCurrency(order).code }}\n      </td>\n      <td class=\"text-md-center\" data-th=\"Price\">\n        <b>{{ order.total | price:getCurrency(order) }}</b>\n      </td>\n    </tr>\n  </table>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HistoryRoutingModule } from './history-routing.module';\nimport { HistoryComponent } from './history.component';\nimport { NavbarModule } from \"../../components/navbar/navbar.module\";\nimport { SharedModule } from \"../../shared.module\";\n\n\n@NgModule({\n  declarations: [HistoryComponent],\n  imports: [\n    CommonModule,\n    NavbarModule,\n    HistoryRoutingModule,\n    SharedModule,\n  ]\n})\nexport class HistoryModule {\n}\n"]}