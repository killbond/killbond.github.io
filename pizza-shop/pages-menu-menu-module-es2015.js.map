{"version":3,"sources":["./src/app/components/product-card/product-card.component.ts","./src/app/components/product-card/product-card.component.html","./src/app/components/product-card/product-card.module.ts","./src/app/pages/menu/menu-routing.module.ts","./src/app/pages/menu/menu.component.ts","./src/app/pages/menu/menu.component.html","./src/app/pages/menu/menu.module.ts","./src/app/services/category.service.ts","./src/app/services/product.service.ts"],"names":[],"mappings":"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","file":"pages-menu-menu-module-es2015.js","sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { ProductInterface } from \"../../interfaces/product.interface\";\nimport { PizzaInterface } from \"../../interfaces/pizza.interface\";\nimport { InputStepperComponent } from \"../input-stepper/input-stepper.component\";\n\n@Component({\n  selector: 'app-product-card',\n  templateUrl: './product-card.component.html',\n  styleUrls: ['./product-card.component.scss'],\n  host: {'class': 'card'}\n})\nexport class ProductCardComponent<T extends ProductInterface | PizzaInterface> {\n\n  @Input() product: T\n\n  @Output('added') added: EventEmitter<{ product: T, quantity: number }> = new EventEmitter()\n\n  public addClickHandler(stepper: InputStepperComponent, product: T): void {\n    this.added.emit({\n      product: product,\n      quantity: stepper.value\n    })\n    stepper.value = 1\n  }\n}\n","<img alt=\"Card image cap\" class=\"card-img-top\" src=\"{{ product.image.url }}\">\n<div class=\"card-body d-flex flex-column justify-content-between\">\n  <div>\n    <div class=\"card-title d-flex justify-content-between\">\n      <span>{{ product.name }}</span>\n      <span class=\"text-success font-weight-bold\">{{ (product.price * stepper.value) | price }}</span>\n    </div>\n    <p class=\"text-muted small\">{{ product.description }}</p>\n  </div>\n  <div class=\"d-flex justify-content-between align-middle\">\n    <app-input-stepper #stepper class=\"input-stepper\"></app-input-stepper>\n    <button (click)=\"addClickHandler(stepper, product)\" class=\"btn btn-sm btn-primary\" type=\"button\">\n      Add to cart\n    </button>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProductCardComponent } from './product-card.component';\nimport { InputStepperModule } from \"../input-stepper/input-stepper.module\";\nimport { SharedModule } from \"../../shared.module\";\n\n@NgModule({\n  declarations: [\n    ProductCardComponent,\n  ],\n  exports: [\n    ProductCardComponent,\n  ],\n  imports: [\n    CommonModule,\n    InputStepperModule,\n    SharedModule,\n  ]\n})\nexport class ProductCardModule {\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { MenuComponent } from './menu.component';\n\nconst routes: Routes = [{path: '', component: MenuComponent}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MenuRoutingModule {\n}\n","import { Component, OnInit } from '@angular/core';\nimport { combineLatest } from \"rxjs\";\nimport { PizzaInterface } from \"../../interfaces/pizza.interface\";\nimport { CategoryInterface } from \"../../interfaces/category.interface\";\nimport { ProductInterface } from \"../../interfaces/product.interface\";\nimport { CartService } from \"../../services/cart.service\";\nimport { ProductService } from \"../../services/product.service\";\nimport { CategoryService } from \"../../services/category.service\";\n\ntype Item = ProductInterface | PizzaInterface\n\n@Component({\n  selector: 'app-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.scss']\n})\nexport class MenuComponent implements OnInit {\n\n  pizzas: PizzaInterface[]\n\n  products: ProductInterface[]\n\n  categories: CategoryInterface[]\n\n  constructor(\n    private categoryService: CategoryService,\n    private productService: ProductService,\n    private cart: CartService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    combineLatest([\n      this.productService.getPizzas(),\n      this.productService.getProducts(),\n      this.categoryService.getCategories(),\n    ]).subscribe((data: [PizzaInterface[], ProductInterface[], CategoryInterface[]]) => {\n      let [pizzas, products, categories] = data\n      this.categories = categories.filter((category: CategoryInterface) => category.id != 1)\n      this.products = products\n      this.pizzas = pizzas\n    })\n  }\n\n  addToCart(event: { product: Item, quantity: number }): void {\n    this.cart.add(event.product, event.quantity)\n  }\n\n  filterByCategoryId<T extends ProductInterface>(items: T[], id: number): T[] {\n    return items.filter((item: T) => item.category_id === id)\n  }\n\n}\n","<app-navbar></app-navbar>\n\n<div class=\"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center\">\n  <h1 class=\"display-4\">Pizza</h1>\n</div>\n\n<div class=\"container\">\n  <div class=\"card-deck mb-3 flex-wrap\">\n    <app-product-card\n        (added)=\"addToCart($event)\"\n        *ngFor=\"let pizza of pizzas; trackBy: ( 'id' | trackByProperty )\"\n        [product]=\"pizza\"\n        class=\"mb-4\">\n    </app-product-card>\n  </div>\n</div>\n\n<ng-container *ngFor=\"let category of categories; trackBy: ( 'id' | trackByProperty )\">\n  <div class=\"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center\">\n    <h1 class=\"display-4\">{{ category.name }}</h1>\n  </div>\n\n  <div class=\"container\">\n    <div class=\"card-deck mb-3 flex-wrap\">\n      <app-product-card\n          (added)=\"addToCart($event)\"\n          *ngFor=\"let product of filterByCategoryId(products, category.id); trackBy: ( 'id' | trackByProperty )\"\n          [product]=\"product\"\n          class=\"mb-4\">\n      </app-product-card>\n    </div>\n  </div>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MenuRoutingModule } from './menu-routing.module';\nimport { MenuComponent } from './menu.component';\nimport { SharedModule } from \"../../shared.module\";\nimport { ProductCardModule } from \"../../components/product-card/product-card.module\";\nimport { FontAwesomeModule } from \"@fortawesome/angular-fontawesome\";\nimport { NavbarModule } from \"../../components/navbar/navbar.module\";\n\n\n@NgModule({\n  declarations: [MenuComponent],\n  imports: [\n    CommonModule,\n    MenuRoutingModule,\n    ProductCardModule,\n    NavbarModule,\n    FontAwesomeModule,\n    SharedModule,\n  ]\n})\nexport class MenuModule {\n}\n","import { Injectable } from '@angular/core';\nimport { CategoryInterface } from \"../interfaces/category.interface\";\nimport { ApiService } from \"./api.service\";\nimport { Observable, of } from \"rxjs\";\nimport { tap } from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CategoryService {\n\n  private categories: CategoryInterface[] = null\n\n  constructor(\n    private api: ApiService\n  ) {\n  }\n\n  getCategories(): Observable<CategoryInterface[]> {\n    if (null !== this.categories) {\n      return of(this.categories)\n    }\n\n    return this.api.get('categories')\n      .pipe(tap((categories: CategoryInterface[]) => this.categories = categories))\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from \"rxjs\";\nimport { PizzaInterface } from \"../interfaces/pizza.interface\";\nimport { ProductInterface } from \"../interfaces/product.interface\";\nimport { ApiService } from \"./api.service\";\nimport { tap } from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductService {\n\n  private pizzas: PizzaInterface[] = null\n\n  private products: ProductInterface[] = null\n\n  constructor(\n    private api: ApiService\n  ) {\n  }\n\n  getPizzas(): Observable<PizzaInterface[]> {\n    if (null !== this.pizzas) {\n      return of(this.pizzas)\n    }\n\n    return this.api.get('pizzas')\n      .pipe(tap((pizzas: PizzaInterface[]) => this.pizzas = pizzas))\n  }\n\n  getProducts(): Observable<ProductInterface[]> {\n    if (null !== this.products) {\n      return of(this.products)\n    }\n\n    return this.api.get('products')\n      .pipe(tap((products: ProductInterface[]) => this.products = products))\n  }\n}\n"],"sourceRoot":"webpack:///"}